<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
<title>Smart Power Documentation</title>

    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../wave/wave.css" rel="stylesheet" />
        <link href="../../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Configuration";
        var mkdocs_page_input_path = "mesh-data-transfer\\configuration\\configuration.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav is-active">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search fill-neutral--contrast">
      <a href="../../..">
          <img src="../../../logo.png" class="logo" alt="Logo"/>
        </a>

        <!-- A trick to place the version selector where I want it to be. -->
        <div class="icon-home" style="display: none;"></div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Mesh</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../mesh/glossary/MeshGlossary/">Mesh Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../mesh/installation/MeshServiceInstallationGuide/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Calculations</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../mesh/calculations/calculations/">General</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Functions</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../mesh/calculations/functions/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >General</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/allocate_reserves/">Allocate_Reserves</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/at/">AT</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/color/">ColorARGB</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/compare/">Compare</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/concatenate/">Concatenate</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/copy_ts/">CopyTs</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/delta/">Delta</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/disable_cache/">DisableCache</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/getyfx/">GET_Y_FX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/isvalid/">IsValid</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/linear/">Linear</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/max/">MAX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/meshid/">MeshId</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/min/">MIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/parameter/">Parameter</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/pdlog/">PDLOG</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/reference_lookup/">Reference Lookup</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/restriction/">Restriction</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/revision/">Revision</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/set_ts_val_unit/">Set_Ts_Valunit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/size/">Size</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time_mask/">Time_Mask</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/tostring/">ToString</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/trace/">Trace</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts/">TS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/unit_codes_for_set_ts_val_unit/">Unit Codes for Set_Ts_Valunit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/valid/">Valid</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Forecast</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_best_forecast/">GetBestForecast</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_all_forecasts/">GetAllForecasts</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_forecast/">GetForecast</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_merged_forecast/">GetMergedForecasts</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >History</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/history/">About</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_ts_as_of_time/">GetTsAsOfTime</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_ts_historical_versions/">GetTsHistoricalVersions</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/get_ts_audit_times/">GetTsAuditTimes</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Logical</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/bool/">Bool</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/inside/">Inside</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/negative/">Negative</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/not/">Not</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/outside/">Outside</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/positive/">Positive</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Math</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_gliding_average/">TS_GLIDING_AVERAGE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_gliding_gauss/">TS_GLIDING_GAUSS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_gliding_median/">TS_GLIDING_MEDIAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_gliding_median_gauss/">TS_GLIDING_MEDIAN_GAUSS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/gliding_trend_average/">GLIDING_TREND_AVERAGE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_acc_from/">TS_ACC_FROM</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/power/">POWER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/abs/">ABS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ceil/">CEIL</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/floor/">FLOOR</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/integer/">INTEGER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/log/">LOG</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ln/">LN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/round/">ROUND</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/round_integer/">ROUND_INTEGER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/acos/">ACOS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/asin/">ASIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/atan/">ATAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/cos/">COS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/sin/">SIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/tan/">TAN</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Mix</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/mix/">MIX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/mix_by_selecting_from_time_series_array/">MIX by selecting from time series array</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/mix0/">MIX0</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/tsiqfill/">TS_IQ-FILL</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Sim</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/convert_volume/">CONVERT_VOLUME</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/rating_curve/">RatingCurve</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time_delayed/">TimeDelayed</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/xy/">XY</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/yx/">YX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/zxy/">ZX_Y</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/zyx/">ZY_X</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Statistical</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/mean/">MEAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/normal/">Normal</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/percentile/">PERCENTILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/sum/">SUM</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Status</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/status/">About</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/reset_status/">RESET_STATUS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/status_mask/">STATUS_MASK</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/status_count/">STATUS_COUNT</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Time</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/is_resolution/">IsResolution</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/is_time_valid/">IsTimeValid</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/push_ext_period/">PushExtPeriod</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/pop_ext_period/">PopExtPeriod</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time/">Time</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/resolution/">Resolution</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/timespan/">TimeSpan</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time_to_string/">TimeToString</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time_examples/">Time Examples</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/time_point_information/">Time Point Information</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Transform</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/transform_what_when/">Which function can be used when</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/transform_terms/">Terms used in the functions</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/transform/">TRANSFORM</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_expand/">TS_EXPAND</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/ts_offset/">TS_OFFSET</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/values_from_year/">ValuesFromYear</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/distribute/">DISTRIBUTE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/trans_profile/">TRANS_PROFILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/profile/">PROFILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/profile_with_explicit_frequency/">PROFILE with explicit frequency</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/accumulate/">ACCUMULATE</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >VEE</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/validate_abs_limit/">ValidateAbsLimit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/validate_delta_limit/">ValidateDeltaLimit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/validate_delta_limit_extreme/">ValidateDeltaLimitExtreme</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/validate_repeat_value/">ValidateRepeatValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/correct_average_value/">CorrectAverageValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/correct_constant_value/">CorrectConstantValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/correct_copy_value/">CorrectCopyValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/correct_extrapolate/">CorrectExtrapolate</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../../mesh/calculations/functions/correct_interpolate/">CorrectInterpolate</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >gRPC</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../mesh/grpc/ClientCertificates/">Client certificates</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../mesh/grpc/Authorization/">Authorization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../mesh/grpc/APISpecification/">API Specification</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../mesh/availability/availability/">Availability</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../mesh/model-maintenance/ModelMaintenanceConcepts/">Model maintenance</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Mesh Data Transfer</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../changelog/CHANGELOG/">Changelog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../general/general/">General</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Configuration</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#common-configuration-items">Common configuration items</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#logging">Logging</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#brokers-configuration">Brokers Configuration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queues-configuration">Queues Configuration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#kestrel-configuration">Kestrel Configuration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#httpendpoints-configuration">HttpEndpoints configuration</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#database-configuration">Database Configuration</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#trigger-relay-specific-configuration">Trigger Relay Specific Configuration:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mesh-amqp-relay-specific-configuration">Mesh Amqp Relay Specific Configuration:</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#export-data-store-specific-configuration">Export Data Store Specific Configuration:</a>
    </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap is-active">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars is-active"></i>
          <a href="../../..">Smart Power Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Mesh Data Transfer</li>
      <li class="breadcrumb-item active">Configuration</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="configuration">Configuration</h2>
<h3 id="common-configuration-items">Common configuration items</h3>
<h4 id="logging">Logging</h4>
<p>Logging functionality of all Data Transfer services is provided by Serilog library.</p>
<pre><code class="language-json"> &quot;Serilog&quot;: {
    &quot;MinimumLevel&quot;: {
      &quot;Default&quot;: &quot;Debug&quot;,
      &quot;Override&quot;: {
        &quot;Microsoft&quot;: &quot;Warning&quot;,
        &quot;System&quot;: &quot;Warning&quot;
      }
</code></pre>
<p><code>MinimumLevel</code> options sets the minimum severity level of messages that will be put in the log.
Serilog supports 5 different logging levels: <code>Verbose</code>, <code>Debug</code>, <code>Information</code>, <code>Warning</code>, <code>Error</code> and <code>Fatal</code>. 
This option can be changes at the runtime and will take effect immediately.</p>
<pre><code class="language-json">    },
    &quot;Enrich&quot;: [ &quot;WithMachineName&quot;, &quot;WithProcessName&quot;, &quot;WithThreadId&quot; ],
</code></pre>
<p><code>Enrich</code> specifies additional information that will be added to all log entries. For more information refer to enrichers <a href="https://github.com/serilog/serilog/wiki/Enrichment">documentation</a></p>
<pre><code class="language-json">    &quot;WriteTo&quot;: [
</code></pre>
<p><code>WriteTo</code> section specifies list of all destination that logs will be saved to. By default only destination is <code>File</code>. Other possible and useful option could be `Console.</p>
<pre><code class="language-json">      {
        &quot;Name&quot;: &quot;File&quot;,
        &quot;Args&quot;: {
          &quot;path&quot;: &quot;.\\log.json&quot;,
          &quot;formatter&quot;: &quot;Serilog.Formatting.Json.JsonFormatter, Serilog&quot;
</code></pre>
<p><code>path</code> defines location and name of the log file.
<code>formatter</code> defines the way of storing log data. By default logs are stored as a json file. For more options refer to formatters <a href="https://github.com/serilog/serilog/wiki/Formatting-Output">documentation</a>.
Other useful options in <code>Args</code> section are:
- <code>rollOnFileSizeLimit</code> - enables log rotation when <code>fileSizeLimitBytes</code> is reached (bool, default is false).
- <code>fileSizeLimitBytes</code> - specifies maximum size of log file in bytes (default is 1 GB).
- <code>retainedFileCountLimit</code> - specifies how many log files will be kept. Default value is 31. Use <code>null</code> to disable the limit.
- <code>rollingInterval</code> - enables log rotation when specific interval elapses (e.g. <code>Day</code>, <code>Month</code>, <code>Year</code>)</p>
<p>More information can be found in serilog file sink <a href="https://github.com/serilog/serilog-sinks-file">documentation</a>.</p>
<h4 id="brokers-configuration">Brokers Configuration</h4>
<p>ImportExport services operate on AMQP entities. AMQP broker is a piece of software capable of relaying messages from one service to another.
<code>BrokersConfiguration</code> configuration item allows the user to specify broker connection strings - we allow to specify more than one connection string.
In case of connection failure, the service will choose the next connection string from the list and will try to establish a new connection.</p>
<pre><code class="language-json">  &quot;BrokersConfiguration&quot;: {
    &quot;B1&quot;: {
      &quot;ConnectionStrings&quot;: [
        &quot;amqp://localhost:5672&quot;,
        &quot;amqp://otherhost:5672&quot;
      ]
    },
    &quot;B2&quot;: {
      &quot;ConnectionStrings&quot;: [
        &quot;amqp://localhost:5672&quot;
      ]
    }
  },
</code></pre>
<p>Each connection string should start with:
- <code>amqp://</code> - Non secure amqp connection will be created. Messages will be sent using AMQP protocol.
- <code>amqps://</code> - Secure amqp connection will be created. Messages will be sent using AMQP protocol.
- <code>Endpoint=sb://</code> - Instead of using AMQP protocol, Azure Service Bus communication library will be used for connection and messaging.</p>
<p>We support RabbitMQ Virtual Host feature (see <a href="https://www.rabbitmq.com/docs/vhosts">RabbitMQ docs</a>). Example Virtual Host configuration:</p>
<pre><code class="language-json">  &quot;BrokersConfiguration&quot;: {
    &quot;B1&quot;: {
      &quot;ConnectionStrings&quot;: [
        &quot;amqp://localhost:5672&quot;,
        &quot;amqp://otherhost:5672&quot;
      ],
      &quot;VirtualHost&quot;: &quot;Virtus&quot;
    }
  },
</code></pre>
<h4 id="queues-configuration">Queues Configuration</h4>
<p><code>Trigger Relay</code> and <code>Mesh Amqp Relay</code> allow configuration of queues that can be later assigned to various components.
Each json object in <code>Queues Configuration</code> describes single queue. It can have any name that is unique within <code>Queues Configuration</code>.</p>
<pre><code class="language-json">&quot;QueuesConfiguration&quot;: {
    &quot;Queue1&quot;: {
      &quot;Broker&quot;: &quot;B1&quot;,
</code></pre>
<p><code>Broker</code> is a reference to one of the broker names defined in the <code>BrokersConfiguration</code>, for example <code>B1</code>.</p>
<pre><code class="language-json">      &quot;QueueName&quot;: &quot;exportQueue&quot;,
</code></pre>
<p><code>QueueName</code> specifies a queue to connect to on the broker.</p>
<pre><code class="language-json">      &quot;Role&quot;: &quot;Sender&quot;,
</code></pre>
<p><code>Role</code> specifies whether this queue will be used to send to or receive from. Valid values are: <code>Sender</code>, <code>Receiver</code>, <code>Failure</code>, <code>Confirmation</code> and <code>ReimportSender</code>.</p>
<pre><code class="language-json">      &quot;Priority&quot;: 0
</code></pre>
<p><code>Priority</code> is an integer used for indicating import queue priority. Based on this number (the lower the number, the more important given queue is) MAR will process messages
placed in the queues with higher priority before messages placed in the queues with lower priorities. If the queue doesn't have the <code>Priority</code> parameter specified, its default priority is 50. Example: there are 3 import queues defined with following priorities: 0, 1 and for the last queue the <code>Priority</code> parameter is missing (it results to priority 50). Messages in the queue with priority 0 will be handled first, then messages in the queue with priority 1 and at the end the messages in the queue with priority 50.</p>
<h4 id="kestrel-configuration">Kestrel Configuration</h4>
<p><code>Kestrel</code> is an http server used by <code>Trigger Relay</code>, <code>Export Data Store</code> and <code>Database Gateway</code> in order to expose endpoints for receiving orders data and for health endpoints.</p>
<pre><code class="language-json">&quot;Kestrel&quot;: {
    &quot;Endpoints&quot;: {
      &quot;Http&quot;: {
        &quot;Url&quot;: &quot;http://localhost:7000&quot;
</code></pre>
<p><code>Url</code> specifies address and port that should be used when accessing the service. For most cases it is reasonable to replace <code>localhost</code> with machine <code>hostname</code>.</p>
<h4 id="httpendpoints-configuration">HttpEndpoints configuration</h4>
<pre><code class="language-json">&quot;HttpEndpoints&quot;: {
  &quot;Mesh&quot;: {
    &quot;Uri&quot;: &quot;https://localhost:20000/mesh&quot;,
    &quot;ServerPrincipal&quot;: &quot;HOST/server.mydomain.com&quot;,
    &quot;TokenRefreshIntervalMinutes&quot;: 30,
    &quot;RequestTimeout&quot;: 60,
    &quot;MaxReceiveMessageSizeInBytes&quot;: 16777216
  },
  &quot;ExportDataStore&quot;: {
    &quot;Uri&quot;: &quot;http://localhost:17000/&quot;
  },
  &quot;DatabaseGateway&quot;: {
    &quot;Uri&quot;: &quot;http://localhost:7137&quot;
  }
},
</code></pre>
<p>This part applies to <code>Trigger Relay</code> or <code>Mesh Amqp Relay</code>, depending on which export flow is in use.</p>
<p><code>HttpEndpoints:Mesh:Uri</code> contains address of <code>Mesh</code> server endpoint that will be used for all exports and imports of data.
Use <code>https</code> in the <code>Uri</code> to enable Transport Layer Security (TLS) and communicate with Mesh over secure channel.</p>
<p><code>HttpEndpoints:Mesh:ServerPrincipal</code> field should be set if the user wants to enable Kerberos authentication.
The value should be set to Kerberos server principal of the Mesh server.
<code>HttpEndpoints:Mesh:TokenRefreshIntervalMinutes</code> is the refresh period of the Kerberos token. By default it is set to 30 minutes.</p>
<p><code>HttpEndpoints:Mesh:MaxReceiveMessageSizeInBytes</code> is an optional size limit for the messages received from Mesh (e.g. time series export response). Defaults to 4 MB (4194304 bytes) when not provided. The example extends the received message size limit to 16 MB.</p>
<p><code>HttpEndpoints:ExportDataStore</code>  is an address of <code>Export Data Store</code> endpoint (formerly <code>ExportWorker:ExportServiceAddress</code>). This is the address that will be used to send all timeseries export data, received from <code>Mesh</code>, in order to store it and create <code>Message Log</code> entries.</p>
<p><code>HttpEndpoints:DatabaseGateway</code> is the address of <code>DatabaseGateway</code> service endpoint.</p>
<p>All of the endpoints above can specify an optional <code>RequestTimeout</code> attribute (defaults to <code>60</code>).</p>
<h4 id="database-configuration">Database Configuration</h4>
<p>The <code>Database Gateway</code> service requires direct database access. Currently data required to access the database is stored in the configuration file.</p>
<pre><code class="language-json">&quot;Database&quot;: {
    &quot;User&quot;: &quot;dbuser&quot;,
    &quot;Password&quot;: &quot;dbpass&quot;,
    &quot;DataSource&quot;: &quot;dbserver&quot;,
    &quot;OpunKeyMode&quot;: &quot;SHORNAME&quot; // legal values: SHORNAME/BANKACC/POSTACC/ESETT_ID, SHORNAME is default if not specified
  }
</code></pre>
<h3 id="trigger-relay-specific-configuration">Trigger Relay Specific Configuration:</h3>
<pre><code class="language-json">{
  &quot;AmqpSender&quot;: {
    &quot;Queues&quot;: [
      &quot;ExportQueue&quot;
    ]
  },
</code></pre>
<p><code>AmqpSender</code> is used to send export orders to the AMQP queues. <code>Queues</code> is expected to contains single <code>Sender</code> queue name defined in <code>QueuesConfiguration</code> configuration item.</p>
<pre><code class="language-json">  &quot;AdditionalPvplanPrefix&quot;: {
    &quot;Separator&quot;: &quot;;&quot;
  },
</code></pre>
<p><code>AdditionalPvplanPrefix</code> separator is a character used in Participant application export definition. It separates External Reference from prefix string being added to the PVPLAN data file names.</p>
<pre><code class="language-json">  &quot;ContentCode&quot;: {
    &quot;Separator&quot;:  &quot;;&quot;
  },
}
</code></pre>
<p><code>ContentCode</code> separator is a character used in Participant application export definition. It separates Product Code from exact protocol name ('APOR' or 'APOT') in case of APOR/APOT export.</p>
<pre><code class="language-json">&quot;HttpEndpoints&quot;: {
  &quot;DatabaseGateway&quot;: {
    &quot;Uri&quot;: &quot;http://localhost:7137&quot;
  }
}
</code></pre>
<p><code>HttpEndpoints:DatabaseGateway</code> specifies the endpoint of <code>Database Gateway</code> service. It accepts an optional <code>RequestTimeout</code> attribute (defaults to <code>60</code>).</p>
<pre><code class="language-json">&quot;ParticipantSettings&quot;: {
  &quot;DefaultSender&quot;: 26
}
</code></pre>
<p><code>ParticipantSettings:DefaultSender</code> specifies the default sender to be used when exporting time series or availability data. The <code>DefaultSender</code> participant key is used as a fallback when the sender is not defined in the time series export definition or in the export request.</p>
<h3 id="mesh-amqp-relay-specific-configuration">Mesh Amqp Relay Specific Configuration:</h3>
<pre><code class="language-json">  &quot;ImportWorker&quot;: {
    &quot;Queues&quot;: [
      &quot;Q3&quot;,
      &quot;Q4&quot;,
      &quot;FailureQ&quot;
    ],
    &quot;ICC_TRANSLOG_DIR&quot;: &quot;C:\\ICC_TRANSLOG_DIR\\&quot;,
    &quot;ReimportEnabled&quot;: false,
    &quot;PartialImportSuccess&quot;: false
  },
</code></pre>
<p><code>ImportWorker</code> is used to handle import requests. In order to work properly it needs <code>Queues</code> to contain a list of queues from <code>QueuesConfiguration</code>. One of the queues needs to be a <code>Receiver</code> queue which will be used to receive import orders. Second queues needs to be a <code>Sender</code> queue, it will be used for sending import status data.
The third, optional queue, needs to be a <code>Failure</code> queue. Its use depends on <code>FailedMessages</code> node below.
If <code>ReimportEnabled</code> flag is set to <code>true</code>, <code>ICC_TRANSLOG_DIR</code> is a directory where received import requests are kept for potential reimports.
<code>PartialImportSuccess</code> is an optional flag that makes Mesh Data Transfer include <code>&lt;ImportSuccess&gt;true&lt;/ImportSuccess&gt;</code> in the time series import reply when the import was partially successful. The default value is <code>false</code>, which means <code>ImportSuccess</code> is <code>true</code> only when all of the requested time series were imported correctly.</p>
<pre><code class="language-json">  &quot;ExportWorker&quot;: {
    &quot;Queues&quot;: [
      &quot;Q1&quot;,
      &quot;FailureQ&quot;
    ]
  },
</code></pre>
<p><code>ExportWorker</code> is used to handle export requests. In order to work properly it needs <code>Queues</code> to contain a list of two queues from <code>QueuesConfiguration</code>. One of the queues needs to be a <code>Receiver</code> queue which will be used to receive export orders. Second queues needs to be a <code>Sender</code> queue, it will be used for sending export data. The <code>Sender</code> queue will be used only for timeseries exports that are defined as a <code>StdExport</code> and all <code>Availability</code> exports. More information about export types can be found in the <code>Export Protocols</code> section.</p>
<pre><code class="language-json">  &quot;MeshMonitor&quot;: {
    &quot;MeshHealthEndpoint&quot;: &quot;http://localhost:20000/meshHealth/health&quot;,
    &quot;CheckInterval&quot;: 5000
  }
</code></pre>
<p><code>MeshMonitor</code> contains address of <code>Mesh</code> server health endpoint. It will be used to establish whether <code>Mesh</code> is in suitable condition to perform exports and imports.</p>
<pre><code class="language-json">  &quot;FailedMessages&quot;: {
    &quot;UseFailureQueueOnInternalError&quot;: true,
    &quot;UseFailureQueueOnExternalError&quot;: false
  },
</code></pre>
<p>Internal errors are the ones that originated from inside <code>Mesh AMQP Relay</code> (for example <code>XML</code>/<code>JSON</code> parsing problem). 
External errors come from <code>Mesh</code> and <code>EDS</code> (like an <code>Oracle</code> issue). If set to true the problematic message will be sent to failure queue.
Otherwise the application will try to put it back on the queue process it again.</p>
<h3 id="export-data-store-specific-configuration">Export Data Store Specific Configuration:</h3>
<p>'MercatoMapping' is used only for Bidding Strategy export protocol. It associates numbers with user-defined strings.
They are used later in the Bidding Strategy export file to map timeseries values to strings.</p>
<pre><code class="language-json">  &quot;MercatoMapping&quot;: {
    &quot;0&quot;: &quot;MGP&quot;,
    &quot;1&quot;: &quot;MI1&quot;,
    &quot;2&quot;: &quot;MI2&quot;,
    &quot;3&quot;: &quot;MI3&quot;,
    &quot;4&quot;: &quot;MI4&quot;,
    &quot;5&quot;: &quot;MI5&quot;,
    &quot;6&quot;: &quot;MI6&quot;,
    &quot;7&quot;: &quot;MI7&quot;,
    &quot;8&quot;: &quot;&quot;
  },
</code></pre>
<p><code>UnitScheduleMapping</code> is similar to <code>MercatoMapping</code>. It is used for Bidding Strategy export protocol as well.</p>
<pre><code class="language-json">  &quot;UnitScheduleMapping&quot;: {
    &quot;A&quot;: &quot;dummyA&quot;,
    &quot;B&quot;: &quot;dummyB&quot;
  },
</code></pre>
<p><code>StoragePerProtocol</code> node contains storage settings for each protocol. <code>StorageKinds</code> valid values are <code>File</code> and <code>Queue</code> - it is allowed to specify the target storage: filesystem, AMQP/ServiceBus queue or both.
Parameter called <code>StoragePath</code> specifies disk storage location in case of the <code>StorageKinds</code> array containing a <code>File</code> value. </p>
<p><code>DestinationQueues</code> is a (protocol, receiver)-to-queue mapping. It is a dictionary consisting of keys being export receiver identfiers and values being queue aliases arrays.
When the <code>DestinationQueues</code> contains a key equal to an export receiver value for given export protocol, the export data will be sent to the queues in the respective array.</p>
<p>In the <code>StoragePerProtocol</code> nodes there is also an array called <code>DefaultQueues</code>.
If the <code>DestinationQueues</code> mapping does not provide target queue information needed, <code>DefaultQueues</code> values are used as target queues.</p>
<p>It is allowed to have one of (<code>DestinationQueues</code>, <code>DefaultQueues</code>) empty, but not both.</p>
<p>Another parameter for <code>StoragePerProtocol</code> nodes is <code>DefaultDecimals</code>. It defines the number of decimals that is saved in the exported time series values if the decimals parameter is not defined in the time series export definition. It is optional and currently it is only supported for EDIEL DELFOR, ExcelCSV and GS2 export types.</p>
<p><code>ICC_TRANSLOG_DIR</code> is a directory where export files are kept in order to look them up from MessageLog application.
Please make sure that these directories are created.
<code>AvailabilityExportQueue</code> is a reference to one of the queues defined in <code>QueuesConfiguration</code> item.</p>
<pre><code class="language-json">  &quot;Storage&quot;: {
    &quot;StoragePerProtocol&quot;: {
      &quot;PVPLAN&quot;: {
        &quot;StorageKinds&quot;: [ &quot;Queue&quot; ],
        &quot;DestinationQueues&quot;: {
          &quot;1&quot;: [ &quot;exportReplyQueue&quot; ],
          &quot;13&quot;: [ &quot;exportReplyQueue&quot;, &quot;someOtherQueue&quot; ]
        },
        &quot;DefaultQueues&quot;: [ &quot;exportReplyQueue&quot; ]
      },
      &quot;PVPLAN2023&quot;: {
        &quot;StorageKinds&quot;: [ &quot;File&quot; ],
        &quot;StorePath&quot;: &quot;C:\\files\\&quot;
      },
      &quot;StdExport&quot;: {
        &quot;StorageKinds&quot;: [ &quot;Queue&quot; ],
        &quot;DestinationQueues&quot;: {
          &quot;1&quot;: [ &quot;exportReplyQueue&quot; ],
          &quot;13&quot;: [ &quot;exportReplyQueue&quot;, &quot;someOtherQueue&quot; ]
        },
        &quot;DefaultQueues&quot;: [ &quot;exportReplyQueue&quot; ]
      },
      &quot;APORAPOTExport&quot;: {
        &quot;StorageKinds&quot;: [ &quot;Queue&quot; ],
        &quot;DestinationQueues&quot;: {
          &quot;1&quot;: [ &quot;exportReplyQueue&quot; ],
          &quot;2&quot;: [ &quot;exportReplyQueue&quot;, &quot;someOtherQueue&quot; ]
        },
        &quot;DefaultQueues&quot;: [ &quot;exportReplyQueue&quot; ]
      },
      &quot;BiddingTool&quot;: {
        &quot;StorageKinds&quot;: [ &quot;File&quot; ],
        &quot;StorePath&quot;: &quot;C:\\files\\&quot;
      },
      &quot;GS2&quot;: {
        &quot;StorageKinds&quot;: [ &quot;File&quot; ],
        &quot;StorePath&quot;: &quot;C:\\files\\&quot;,
        &quot;DefaultDecimals&quot;: 3 // optional, used when the time series export definition does not define the decimals parameter; for GS2 the default value is null (number of decimals not specified)
      },
      &quot;EdielDelfor&quot;: {
        &quot;StorageKinds&quot;: [ &quot;File&quot; ],
        &quot;StorePath&quot;: &quot;C:\\files\\&quot;,
        &quot;DefaultDecimals&quot;: 2 // optional, used when the time series export definition does not define the decimals parameter; for EDIEL DELFOR the default value is 3
      },
      &quot;ExcelCSV&quot;: {
        &quot;StorageKinds&quot;: [ &quot;File&quot; ],
        &quot;StorePath&quot;: &quot;C:\\files\\&quot;
        &quot;DefaultDecimals&quot;: 2, // optional, used when the time series export definition does not define the decimals parameter; for Excel CSV the default value is 6
      }
    },
    &quot;ICC_TRANSLOG_DIR&quot;: &quot;C:\\ICC_TRANSLOG_DIR\\&quot;,
    &quot;AvailabilityExportQueue&quot;: &quot;Q&quot;,
    &quot;PvPlan2023&quot;: false
  },

  &quot;QueuesConfiguration&quot;: {
    &quot;exportReplyQueue&quot;: {
      &quot;Broker&quot;: &quot;B1&quot;,
      &quot;QueueName&quot;: &quot;exportReplyQueue&quot;,
      &quot;Role&quot;: &quot;Sender&quot;
    },
    &quot;someOtherQueue&quot;: {
      &quot;Broker&quot;: &quot;B1&quot;,
      &quot;QueueName&quot;: &quot;someOtherQueue&quot;,
      &quot;Role&quot;: &quot;Sender&quot;
    }
  },
</code></pre>
<p><code>HttpEndpoints:DatabaseGateway</code> specifies the endpoint of <code>Database Gateway</code> service. It accepts an optional <code>RequestTimeout</code> attribute (defaults to <code>60</code>).</p>
<pre><code class="language-json">&quot;HttpEndpoints&quot;: {
  &quot;DatabaseGateway&quot;: {
    &quot;Uri&quot;: &quot;http://localhost:7137&quot;
  }
}
</code></pre>
              
            </div>
          </div><footer>
      <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
          <a href="../../general/general/" class="btn btn--outline btn--success float-left" title="General"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      </div>
  
    <hr/>
  
    <div role="contentinfo">
      <!-- Copyright etc -->
    </div>
  
    Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  </footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version is-active">
      
      
        <span><a href="../../general/general/" style="color: #fcfcfc">&laquo; Previous</a></span>
      
      
    </span>
  </div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../../../search/main.js"></script>
      <script src="../../../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
