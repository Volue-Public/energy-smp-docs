<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
<title>Smart Power Documentation</title>

    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../../wave/wave.css" rel="stylesheet" />
        <link href="../../../../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Time_Mask";
        var mkdocs_page_input_path = "mesh\\calculations\\functions\\time_mask.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav is-active">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search fill-neutral--contrast">
      <a href="../../../..">
          <img src="../../../../logo.png" class="logo" alt="Logo"/>
        </a>

        <!-- A trick to place the version selector where I want it to be. -->
        <div class="icon-home" style="display: none;"></div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Mesh</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../glossary/MeshGlossary/">Mesh Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../installation/MeshServiceInstallationGuide/">Installation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Calculations</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../calculations/">General</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" >Functions</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../introduction/">Introduction</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" >General</a>
    <ul class="current">
                <li class="toctree-l4"><a class="reference internal" href="../allocate_reserves/">Allocate_Reserves</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../at/">AT</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../color/">ColorARGB</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../compare/">Compare</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../concatenate/">Concatenate</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../copy_ts/">CopyTs</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../delta/">Delta</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../disable_cache/">DisableCache</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../getyfx/">GET_Y_FX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../isvalid/">IsValid</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../linear/">Linear</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../max/">MAX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../meshid/">MeshId</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../min/">MIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../parameter/">Parameter</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../pdlog/">PDLOG</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../reference_lookup/">Reference Lookup</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../restriction/">Restriction</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../revision/">Revision</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../set_ts_val_unit/">Set_Ts_Valunit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../size/">Size</a>
                </li>
                <li class="toctree-l4 current"><a class="reference internal current" href="#">Time_Mask</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../tostring/">ToString</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../trace/">Trace</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts/">TS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../unit_codes_for_set_ts_val_unit/">Unit Codes for Set_Ts_Valunit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../valid/">Valid</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Forecast</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../get_best_forecast/">GetBestForecast</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_all_forecasts/">GetAllForecasts</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_forecast/">GetForecast</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_merged_forecast/">GetMergedForecasts</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >History</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../history/">About</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_ts_as_of_time/">GetTsAsOfTime</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_ts_historical_versions/">GetTsHistoricalVersions</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../get_ts_audit_times/">GetTsAuditTimes</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Logical</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../bool/">Bool</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../inside/">Inside</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../negative/">Negative</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../not/">Not</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../outside/">Outside</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../positive/">Positive</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Math</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../ts_gliding_average/">TS_GLIDING_AVERAGE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_gliding_gauss/">TS_GLIDING_GAUSS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_gliding_median/">TS_GLIDING_MEDIAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_gliding_median_gauss/">TS_GLIDING_MEDIAN_GAUSS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../gliding_trend_average/">GLIDING_TREND_AVERAGE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_acc_from/">TS_ACC_FROM</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../power/">POWER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../abs/">ABS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ceil/">CEIL</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../floor/">FLOOR</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../integer/">INTEGER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../log/">LOG</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ln/">LN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../round/">ROUND</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../round_integer/">ROUND_INTEGER</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../acos/">ACOS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../asin/">ASIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../atan/">ATAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../cos/">COS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../sin/">SIN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../tan/">TAN</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Mix</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../mix/">MIX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../mix_by_selecting_from_time_series_array/">MIX by selecting from time series array</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../mix0/">MIX0</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../tsiqfill/">TS_IQ-FILL</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Sim</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../convert_volume/">CONVERT_VOLUME</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../rating_curve/">RatingCurve</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../time_delayed/">TimeDelayed</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../xy/">XY</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../yx/">YX</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../zxy/">ZX_Y</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../zyx/">ZY_X</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Statistical</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../mean/">MEAN</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../normal/">Normal</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../percentile/">PERCENTILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../sum/">SUM</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Status</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../status/">About</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../reset_status/">RESET_STATUS</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../status_mask/">STATUS_MASK</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../status_count/">STATUS_COUNT</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Time</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../is_resolution/">IsResolution</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../is_time_valid/">IsTimeValid</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../push_ext_period/">PushExtPeriod</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../pop_ext_period/">PopExtPeriod</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../time/">Time</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../resolution/">Resolution</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../timespan/">TimeSpan</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../time_to_string/">TimeToString</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../time_examples/">Time Examples</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../time_point_information/">Time Point Information</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Transform</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../transform_what_when/">Which function can be used when</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../transform_terms/">Terms used in the functions</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../transform/">TRANSFORM</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_expand/">TS_EXPAND</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../ts_offset/">TS_OFFSET</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../values_from_year/">ValuesFromYear</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../distribute/">DISTRIBUTE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../trans_profile/">TRANS_PROFILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../profile/">PROFILE</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../profile_with_explicit_frequency/">PROFILE with explicit frequency</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../accumulate/">ACCUMULATE</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >VEE</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../validate_abs_limit/">ValidateAbsLimit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../validate_delta_limit/">ValidateDeltaLimit</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../validate_delta_limit_extreme/">ValidateDeltaLimitExtreme</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../validate_repeat_value/">ValidateRepeatValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../correct_average_value/">CorrectAverageValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../correct_constant_value/">CorrectConstantValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../correct_copy_value/">CorrectCopyValue</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../correct_extrapolate/">CorrectExtrapolate</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../correct_interpolate/">CorrectInterpolate</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >gRPC</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../grpc/ClientCertificates/">Client certificates</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../grpc/Authorization/">Authorization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../grpc/APISpecification/">API Specification</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../availability/availability/">Availability</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../model-maintenance/ModelMaintenanceConcepts/">Model maintenance</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Mesh Data Transfer</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../mesh-data-transfer/changelog/CHANGELOG/">Changelog</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../mesh-data-transfer/general/general/">General</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../../mesh-data-transfer/configuration/configuration/">Configuration</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap is-active">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars is-active"></i>
          <a href="../../../..">Smart Power Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Mesh</li>
          <li class="breadcrumb-item">Calculations</li>
          <li class="breadcrumb-item">Functions</li>
          <li class="breadcrumb-item">General</li>
      <li class="breadcrumb-item active">Time_Mask</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="time_mask">TIME_MASK</h1>
<h2 id="about-the-function">About the function</h2>
<p>This function creates time series from its arguments, normally used as time
masks (a series with 1 or 0 as value), but not limited to only this type.</p>
<h2 id="syntax">Syntax</h2>
<p>There two main variants of this function. The general variant:</p>
<ul>
<li><a href="#time_maskssds-and-time_maskssd">TIME_MASK(s,S,D,s)</a></li>
<li><a href="#time_maskssds-and-time_maskssd">TIME_MAS(s,S,D)</a></li>
<li><a href="#time_masksd">TIME_MASK(S,D)</a></li>
</ul>
<p>A special variant using a holiday file:</p>
<ul>
<li><a href="#time_masks-and-time_maskss">TIME_MASK(s)</a></li>
<li><a href="#time_masks-and-time_maskss">TIME_MASK(s,s)</a></li>
</ul>
<h2 id="time_maskssds-and-time_maskssd">TIME_MASK(s,S,D,s) and TIME_MASK(s,S,D)</h2>
<p>The principle for the function is that you specify a repeat frequency, an array
of time points and a corresponding array of function values. The time points are
repeated at the frequency given as the first argument. The last argument allows
you to specify the resolution for the result series.</p>
<table>
<thead>
<tr>
<th>#</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>s</td>
<td>Repeat frequency. For values, see Repeat frequency.</td>
</tr>
<tr>
<td>2</td>
<td>S</td>
<td>Time point description array in any format. See Time point description array.</td>
</tr>
<tr>
<td>3</td>
<td>D</td>
<td>Array of values which apply to the time points given in the preceding argument.</td>
</tr>
<tr>
<td>4</td>
<td>s</td>
<td>Result series resolution. For values, see Resolution.</td>
</tr>
</tbody>
</table>
<h3 id="repeat-frequency">Repeat frequency</h3>
<p>This argument consists of a time span code in addition to some options. The time
span code can be one of the following calendar codes:</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>WEEKDAY</td>
<td>Weekdays at daytime. Gives the value 1 at time steps within 'workhours'.</td>
</tr>
<tr>
<td>WEEKEND</td>
<td>Night and weekend - the opposite of WEEKDAY for all days except WEEKEND.</td>
</tr>
<tr>
<td>HOLIDAY</td>
<td>Night, weekends and holidays - the opposite of 'NORMALDAY'.</td>
</tr>
<tr>
<td>NORMALDAY</td>
<td>Weekday at daytime, except for holidays - same as 'WEEKDAY', but holidays are excluded ('holiday' and 'mholidays').</td>
</tr>
</tbody>
</table>
<p>The following frequency codes can be used:</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>MIN15</td>
<td>Quarter of an hour</td>
</tr>
<tr>
<td>HOUR</td>
<td>Hour</td>
</tr>
<tr>
<td>DAY</td>
<td>24-hour period</td>
</tr>
<tr>
<td>WEEK</td>
<td>Week</td>
</tr>
<tr>
<td>MONTH</td>
<td>Month</td>
</tr>
<tr>
<td>YEAR</td>
<td>Year</td>
</tr>
<tr>
<td>NONE</td>
<td>Absolute time points, no repetition frequency</td>
</tr>
</tbody>
</table>
<p>The options to frequency code are defined in &lt;&gt; brackets.</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>The result series gets linear curve type.</td>
</tr>
<tr>
<td></td>
<td>Local DST calendar used when moving time points with given frequency.</td>
</tr>
<tr>
<td></td>
<td>Database configured calendar used when moving time points with given frequency.</td>
</tr>
<tr>
<td></td>
<td>UTC calendar used when moving time points with given frequency.</td>
</tr>
</tbody>
</table>
<p>Tip! You may incorporate calendar options into frequency codes as a prefix
code. Valid calendar prefix codes are LOCAL, STANDARD, UTC and DB. For example
frequency code LOCALDAY is the same as DAY</p>
<h3 id="time-point-description-array">Time point description array</h3>
<p>You can use the following special codes instead of a list of definitions.</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>MONTHLY</td>
<td>Transformed to 12 time points representing start of each month, starting with January</td>
</tr>
<tr>
<td>WEEKLY</td>
<td>Transformed to 52 time points representing start of each week</td>
</tr>
<tr>
<td>DAILY</td>
<td>Transformed to 7 time points representing start of Monday, Tuesday etc</td>
</tr>
<tr>
<td>HOURLY</td>
<td>Transformed to 24 time points representing, from hour 0 to 23</td>
</tr>
<tr>
<td>QUARTERLY</td>
<td>Transformed to 4 time points</td>
</tr>
</tbody>
</table>
<p>If you use one of these codes, you must still supply the correct number of
values in the next argument.</p>
<h3 id="resolution">Resolution</h3>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>MIN15</td>
<td>Quarter of an hour</td>
</tr>
<tr>
<td>HOUR</td>
<td>Hour</td>
</tr>
<tr>
<td>DAY</td>
<td>24-hour period</td>
</tr>
<tr>
<td>WEEK</td>
<td>Week</td>
</tr>
<tr>
<td>MONTH</td>
<td>Month</td>
</tr>
<tr>
<td>YEAR</td>
<td>Year</td>
</tr>
<tr>
<td>VARINT</td>
<td>Breakpoint</td>
</tr>
</tbody>
</table>
<h3 id="example">Example</h3>
<p>Result time series = @TIME_MASK('DAY', {'DAY+07h', 'DAY+10h', 'DAY+14h',
'DAY+18h'}, {1,2,3,4},'HOUR')</p>
<p>This gives a time series with daily repeat frequency and hourly time resolution.
The presentation of data values is step wise.</p>
<p>The table shows the result from a day on winter time (normal time). The
definition of the expression has no reference to a defined time zone and uses
the time zone of the database.</p>
<p>Note! If the same expressions are run for a day in summer time, the values
are shifted to one hour later.</p>
<p><img alt="" src="../Images/ex_TIME_MASK-nimbustable1.png" /></p>
<p>Result time series = @TIME_MASK('DAY', {'DAY+07h', 'DAY+10h', 'DAY+14h',
'DAY+18h'}, {1,2,3,4},'HOUR')</p>
<p>This gives a time series with daily repeat frequency and hourly time resolution.
The presentation of data values is linear.</p>
<p><img alt="" src="../Images/ex_TIME_MASK-nimbustable2.png" /></p>
<p>Result time series = @TIME_MASK('DAY', {'DAY+07h', 'DAY+10h', 'DAY+14h',
'DAY+18h'}, {1,2,3,4},'VARINT')</p>
<p>This gives a time series with daily repeat frequency and breakpoint time
resolution. The presentation of data values is step wise.</p>
<p><img alt="" src="../Images/ex_TIME_MASK-nimbustable3.png" /></p>
<h2 id="time_masksd">TIME_MASK(S,D)</h2>
<p>This syntax variant has no repeat frequency, the given points in time are
absolute. Gives the same effect as using TIME_MASK(s,S,D) with repeat frequency
'NONE'.</p>
<h2 id="time_masks-and-time_maskss">TIME_MASK(s) and TIME_MASK(s,s)</h2>
<p>These variants let you define a logical time series from criteria given in by
parameters in a text file. TIME_MASK(s) references the default calendar file
holidays.txt. TIME_MASK(s,s) uses a user-defined file. Several user-defined
files can be used in the same report. The default resolution is hours. If the
resolution is 15-minute periods (TIMESTEP {MIN 15,1}) the result series while
have this resolution.</p>
<p>As an example, the function can be used to find the power usage in specific
periods of the day, for instance in connection with low load, peak load etc.</p>
<h3 id="example_1">Example</h3>
<p>@TIME_MASK(s,s)</p>
<p>The <code>MyHolidayfile.txt</code> is a user defined calendar file:</p>
<pre><code>  # Filename: MyHolidayfile.txt

  # Tariff template: time definitions

  workhours 06:00 22:00

  weekend 6 7

  # Fixed holidays (date in American format, year/month/day)

  holiday 1/1 1/6 4/30 5/1 12/24 12/25 12/26 12/31 1997/6/20 1997/08/22

  mholiday es-3 es-2 es+1 es+39 es+40 es+50

  seasons 12/1 4/1 6/1 9/1

  lseason 4/1 11/1
</code></pre>
<p>The function returns the following according to the calendar file definition:</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Result mask</th>
</tr>
</thead>
<tbody>
<tr>
<td>@TIME_MASK('WEEKDAY',’MyHolidayfile.txt’)</td>
<td>1 for all hours (or 15-minute periods) from 06:00 to 22:00 on all days except for weekends, i.e. Monday to Friday inclusive. 0 otherwise.</td>
</tr>
<tr>
<td>@TIME_MASK('WEEKEND',’MyHolidayfile.txt’)</td>
<td>1 for all hours (or 15-minute periods) from 22:00 to 06:00 from Monday to Friday, and 1 for the entire day on Saturday and Sunday. 0 otherwise.</td>
</tr>
<tr>
<td>@TIME_MASK('HOLIDAY',’MyHolidayfile.txt’)</td>
<td>Same mask as for "WEEKEND", in addition to 1 for all fixed and moveable public holidays defined in the current file. See "holiday" and "mholidays". 0 otherwise.</td>
</tr>
<tr>
<td>@TIME_MASK('NORMALDAY',’MyHolidayfile.txt’)</td>
<td>Opposite of WEEKDAY.</td>
</tr>
</tbody>
</table>
<p>The result above can be illustrated in a figure showing the difference between
the various masks:</p>
<p><img alt="" src="../Images/ex_timemasks_chart.gif" /></p>
              
            </div>
          </div><footer>
      <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
          <a href="../size/" class="btn btn--outline btn--success float-left" title="Size"><span class="icon icon-circle-arrow-left"></span> Previous</a>
          <a href="../tostring/" class="btn btn--outline btn--success float-right" title="ToString">Next <span class="icon icon-circle-arrow-right"></span></a>
      </div>
  
    <hr/>
  
    <div role="contentinfo">
      <!-- Copyright etc -->
    </div>
  
    Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  </footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version is-active">
      
      
        <span><a href="../size/" style="color: #fcfcfc">&laquo; Previous</a></span>
      
      
        <span><a href="../tostring/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
  </div>
    <script src="../../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../../..";</script>
    <script src="../../../../js/theme_extra.js"></script>
    <script src="../../../../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="../../../../search/main.js"></script>
      <script src="../../../../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
